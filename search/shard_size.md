https://elasticstack.blog.csdn.net/article/details/104141398

请求的大小（size）越大，结果将越准确，但计算最终结果的成本也将越高（这两者都是由于在分片级别上管理的优先级队列更大，并且节点和客户端之间的数据传输也更大）。

shard_size 参数可用于最大程度地减少请求的大小带来的额外工作。 定义后，它将确定协调节点将从每个分片请求多少个术语。 一旦所有分片都做出响应，协调节点便会将它们缩减为最终结果，该最终结果将基于size参数-这样一来，可以提高返回条款的准确性，并避免流回大量存储桶的开销给客户。

注意：shard_size 不能小于 size（因为意义不大）。 启用时，Elasticsearch 将覆盖它并将其重置为等于大小。

缺省 shard_size为（size* 1.5 + 10）。
